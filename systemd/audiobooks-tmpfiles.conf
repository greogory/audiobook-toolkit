# Audiobooks control directory for privileged helper communication
# API (running as audiobooks) writes requests here
# Helper service (running as root) reads requests and writes status
#
# Format: Type Path Mode UID GID Age Argument
# See tmpfiles.d(5) for details

# Create control directory with write access for audiobooks user
d /var/lib/audiobooks/.control 0755 audiobooks audiobooks -

# Runtime directory for locks, temp files, and FIFOs
# Note: Uses /var/lib/audiobooks/.run instead of /run/audiobooks because
# ProtectSystem=strict prevents creating directories in /run
d /var/lib/audiobooks/.run 0775 audiobooks audiobooks -

# Staging directory for in-progress downloads and conversions
# Used by: audiobooks-downloader, audiobooks-converter, audiobooks-mover, audiobooks-api
# Note: Must exist for ProtectSystem=strict ReadWritePaths to work
d /tmp/audiobook-staging 0775 audiobooks audiobooks -
